
<section class="py-6">
  <div class="flex rounded-[48px] overflow-hidden shadow-me  ">
    <div class="w-full  lg:w-9/12">
      <owl-carousel-o [options]="customOptionsMain">

        @for (img of mainSliderList; track $index) {
          <ng-template carouselSlide >
            <img class="max-sm:h-[200px] sm:h-[300px]  object-fill " [src]="img" alt="offer" title="offer">
          </ng-template>
        }
        </owl-carousel-o>
    </div>
    <div class=" max-lg:hidden lg:visible lg:w-3/12">
      <img class="max-sm:h-[100px] sm:h-[150px]" src="./assets/images/grocery-banner.png" alt="banner">
      <img class="max-sm:h-[100px] sm:h-[150px]" src="./assets/images/grocery-banner-2.jpeg" alt="banner">
    </div>
  </div>
</section>
<!-- Categories Section -->
<section class="my-2">
<h2 class="font-black text-4xl mb-6 text-main">Popular Categories</h2>
<div class="rounded-[30px] overflow-hidden">
  <owl-carousel-o [options]="customOptionsCategories">

    @for (category of categoriesList; track category._id) {
      <ng-template carouselSlide >
        <img class="h-80  object-fill " [src]="category.image" [alt]="category.slug" [title]="category.name">
        <h3 class="text-main text-lg font-medium text-center" >{{category.name}}</h3>
      </ng-template>
    }
    </owl-carousel-o>
</div>
</section>

<!-- Products Section -->
<section class="">
  <h2 class="text-main my-3 font-black text-4xl pb-2">Popular Products:</h2>
  <div class="grid lg:grid-cols-6 md:grid-cols-4 sm:grid-cols-2 gap-7">
    @for (product of productsList.slice(0,12); track product.id) {
    
      <div class="product group hover:-translate-y-[2%] ">
        <div class=" cursor-pointer" [routerLink]="['/details',product._id]" >
          <img class="object-cover" [src]="product.imageCover" alt="product" />
    
          <div class="p-3">
            <h3 class="text-sm text-main">{{ product.category.name }}</h3>
            <h4>{{ product.title.split(" ",2).join(" ") }}</h4>
    
            <div class="flex justify-between ">
              <span class="text-nowrap">{{ product.price }}EGP</span>
              <div class="flex ">
                @for (item of [0,0,0,0,0].slice(0,product.ratingsAverage) ; track
                $index) {
                <span class=" ">
                  <i class=" tracking-tighter text-rating fa fa-star"></i
                ></span>
    
                } 
                @if(product.ratingsAverage%1 !==0){
    
                <span class=" bg-red ">
                  <i class="text-transparent bg-clip-text fa fa-star"
                    [style]="_ProductsService.getStarFration(product.ratingsAverage) "
                    
                  ></i>
                </span>
                }
                <span class="text-gray-400">{{ product.ratingsAverage }}</span>
              </div>
            </div>
          </div>
          
        </div>

        <div
            class="p-3 group-hover:translate-y-0 translate-y-[120%] transition-all duration-700"
          >
            <button class="btn-main w-full">Add to Cart</button>
          </div>
      </div>
    }
  </div>
</section>
